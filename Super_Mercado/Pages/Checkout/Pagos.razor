@page "/pago"
@inherits PagoComponentBase
@inject NavigationManager NVM





<MudItem Class="mt-3" sm="12" Style="text-align:center">
	<h2>DETALLE DE ORDEN</h2>
</MudItem>


<MudContainer Class="mt-16" MaxWidth="MaxWidth.Large">
	<MudGrid Spacing="6" Class="mt-16">
		<MudItem xs="7">
			<MudText Typo="Typo.h5" GutterBottom="true">Seleccione la direccion de la orden</MudText>

		</MudItem>
		<MudItem xs="5">
			<MudText Typo="Typo.h5" GutterBottom="true">Carrito</MudText>
			<MudPaper Class="d-flex flex-column" Style="height:100%;" Outlined="true">
				<MudList Clickable="true">

					@if (productosEnCart == null)
					{
						<MudListItem Icon="@Icons.Material.Filled.PanoramaFishEye">
							<div class="d-flex">
								<MudText>No hay Productos Registrados </MudText>
							</div>
						</MudListItem>


					}
					else
					{
						foreach (var i in productosEnCart)
						{
							<MudListItem>
								<div class="d-flex">
									<RadzenImage Path="@i.Imagen" Style="width: 40px; height: 40px; border-radius: 8px; " />
									<MudText>@i.Nombre</MudText>
									<MudText Class="ml-auto m-2">@String.Format(new System.Globalization.CultureInfo("en-US"), "{0:C}",i.Precio)</MudText>
									<a @onclick="()=> DeleteCart(i)">
										<MudIcon  Icon="@Icons.Rounded.Delete"></MudIcon>

									</a>
								</div>
							</MudListItem>

						}

					}
				</MudList>
				<div class="mt-auto">
					<MudDivider />
					<div class="d-flex pa-4">
						<MudText>Total:</MudText>
						<MudText Class="ml-auto"><b>@String.Format(new System.Globalization.CultureInfo("en-US"), "{0:C}",Sum)</b></MudText>
					</div>
				</div>
				<div class="mt-auto">
					<MudDivider />
					<div class="d-flex pa-4">
						<MudInputLabel>Direccion</MudInputLabel>
						@if (lst_direcciones != null)
						{

							<RadzenDropDown Data=lst_direcciones TValue="Int32" TextProperty="Direccion" ValueProperty="Id" Style="width:100%;" Placeholder="Seleccione">

							</RadzenDropDown>
						}
						else
						{

							<MudButton Color="Color.Error" Icon="@Icons.Material.Filled.AppRegistration" OnClick='()=>NVM.NavigateTo("/login")'>Tiene que Iniciar Sesion</MudButton>

						}
					</div>
				</div>
			</MudPaper>
		</MudItem>
		<MudItem>


		</MudItem>

	</MudGrid>
</MudContainer>

@code {




}
